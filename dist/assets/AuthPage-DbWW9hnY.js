import{f as p,j as r,r as s,b4 as T,l as j,B as C,X as v,I as O,T as w,y as B,b5 as R,F as z,m as A,n as W,o as f,t as F,b6 as L,b7 as H,P as V}from"./index-B_qAbFfl.js";import{I as n}from"./InputAdornment-B7Y2llij.js";import{I as M}from"./Input-Cttj5N7q.js";import{T as q,a as I}from"./Tabs-A-LF5v_Y.js";const k=p(r.jsx("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0-8 5-8-5zm0 12H4V8l8 5 8-5z"})),y=p(r.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9zM18 20H6V10h12z"})),Y=p(r.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),S=p(r.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),E=p(r.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),D=()=>{const[o,c]=s.useState(!1),[e,t]=s.useState({email:"",password:""}),[i,l]=s.useState(null),[d,{isLoading:b}]=T(),a=j(),g=u=>{const{name:m,value:x}=u.target;t(P=>({...P,[m]:x}))},h=async u=>{var m;u.preventDefault(),l(null);try{await d({email:e.email,password:e.password}).unwrap()&&setTimeout(()=>{a("/",{replace:!0})},100)}catch(x){l(((m=x.data)==null?void 0:m.message)||"Ошибка входа")}};return r.jsxs(C,{component:"form",onSubmit:h,children:[r.jsx(v,{fullWidth:!0,placeholder:"Email",name:"email",type:"email",value:e.email,onChange:g,margin:"normal",required:!0,InputProps:{startAdornment:r.jsx(n,{position:"start",children:r.jsx(k,{sx:{color:"#1E90FF"}})})},sx:{"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#FF69B4"}}}),r.jsx(v,{fullWidth:!0,placeholder:"Password",name:"password",type:o?"text":"password",value:e.password,onChange:g,margin:"normal",required:!0,InputProps:{startAdornment:r.jsx(n,{position:"start",children:r.jsx(y,{sx:{color:"#FF69B4"}})}),endAdornment:r.jsx(n,{position:"end",children:r.jsx(O,{onClick:()=>c(!o),edge:"end",sx:{color:"rgba(255,255,255,0.5)","&:hover":{color:"#FF69B4"}},children:o?r.jsx(E,{}):r.jsx(S,{})})})},sx:{"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1E90FF"}}}),i&&r.jsx(w,{color:"error",sx:{mt:2,fontSize:"14px",textAlign:"center"},children:i}),r.jsx(B,{fullWidth:!0,type:"submit",variant:"contained",disabled:b,sx:{mt:3,mb:2,py:1.5,background:"linear-gradient(90deg, #FF69B4 0%, #1E90FF 100%)",color:"#fff",fontWeight:600,borderRadius:1,textTransform:"none",fontSize:"16px",boxShadow:"0 4px 15px 0 rgba(255,105,180,0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(90deg, #FF1493 0%, #00BFFF 100%)",transform:"translateY(-2px)",boxShadow:"0 6px 20px 0 rgba(255,105,180,0.4)"},"&:active":{transform:"translateY(0)"},"&.Mui-disabled":{background:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.3)"}},children:b?"Вход...":"Войти"})]})},$=A().shape({login:F().min(3,"Логин должен быть не менее 3 символов").max(255,"Логин не может быть длиннее 255 символов").required("Логин обязателен"),email:F().email("Некорректный email").max(255,"Email не может быть длиннее 255 символов").required("Email обязателен"),password:F().min(6,"Пароль должен быть не менее 6 символов").max(255,"Пароль не может быть длиннее 255 символов").required("Пароль обязателен"),confirmPassword:F().oneOf([L("password")],"Пароли не совпадают").max(255,"Пароль не может быть длиннее 255 символов").required("Подтверждение пароля обязательно")}),N=()=>{const[o,c]=s.useState(!1),[e,t]=s.useState(null),[i,{isLoading:l}]=R(),d=j(),b=async(a,{setSubmitting:g})=>{var h;t(null);try{await i({login:a.login,email:a.email,password:a.password}).unwrap()&&setTimeout(()=>{d("/",{replace:!0})},100)}catch(u){t(((h=u.data)==null?void 0:h.message)||"Ошибка регистрации")}finally{g(!1)}};return r.jsx(z,{initialValues:{login:"",email:"",password:"",confirmPassword:""},validationSchema:$,onSubmit:b,children:({isSubmitting:a})=>r.jsxs(W,{children:[r.jsx(f,{component:M,name:"login",placeholder:"Логин",fullWidth:!0,margin:"normal",InputProps:{startAdornment:r.jsx(n,{position:"start",children:r.jsx(Y,{sx:{color:"#FF69B4"}})})},sx:{mb:2,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#FF69B4"}}}),r.jsx(f,{component:M,name:"email",placeholder:"Email",type:"email",fullWidth:!0,margin:"normal",InputProps:{startAdornment:r.jsx(n,{position:"start",children:r.jsx(k,{sx:{color:"#1E90FF"}})})},sx:{mb:2,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1E90FF"}}}),r.jsx(f,{component:M,name:"password",placeholder:"Пароль",type:o?"text":"password",fullWidth:!0,margin:"normal",InputProps:{startAdornment:r.jsx(n,{position:"start",children:r.jsx(y,{sx:{color:"#FF69B4"}})}),endAdornment:r.jsx(n,{position:"end",children:r.jsx(O,{onClick:()=>c(!o),edge:"end",sx:{color:"rgba(255,255,255,0.5)","&:hover":{color:"#FF69B4"}},children:o?r.jsx(E,{}):r.jsx(S,{})})})},sx:{mb:2,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#FF69B4"}}}),r.jsx(f,{component:M,name:"confirmPassword",placeholder:"Подтвердите пароль",type:o?"text":"password",fullWidth:!0,margin:"normal",sx:{mb:3,"& .MuiInputBase-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},"& .MuiInputBase-input":{"&::placeholder":{color:"rgba(255,255,255,0.5)",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1E90FF"}}}),e&&r.jsx(w,{color:"error",sx:{mb:2,fontSize:"14px",textAlign:"center"},children:e}),r.jsx(B,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:l||a,sx:{py:1.5,background:"linear-gradient(90deg, #FF69B4 0%, #1E90FF 100%)",color:"#fff",fontWeight:600,borderRadius:1,textTransform:"none",fontSize:"16px",boxShadow:"0 4px 15px 0 rgba(255,105,180,0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(90deg, #FF1493 0%, #00BFFF 100%)",transform:"translateY(-2px)",boxShadow:"0 6px 20px 0 rgba(255,105,180,0.4)"},"&:active":{transform:"translateY(0)"},"&.Mui-disabled":{background:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.3)"}},children:l?"Регистрация...":"Зарегистрироваться"})]})})},K=()=>{const o=H(),c=j(),[e,t]=s.useState(0);s.useEffect(()=>{o.pathname==="/auth/register"?t(1):t(0)},[o.pathname]);const i=(l,d)=>{t(d),c(d===0?"/auth/login":"/auth/register")};return r.jsx(C,{sx:{minHeight:"100vh",minWidth:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 50% 50%, rgba(255,105,180,0.1) 0%, transparent 70%)",pointerEvents:"none"}},children:r.jsxs(V,{elevation:3,sx:{p:4,width:"100%",maxWidth:480,borderRadius:2,background:"rgba(20, 20, 30, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 105, 180, 0.1)"},children:[r.jsxs(q,{value:e,onChange:i,centered:!0,sx:{mb:3,"& .MuiTabs-indicator":{background:"#424242"},"& .MuiTab-root":{color:"#B0B0B0","&.Mui-selected":{color:"#FFFFFF"}}},children:[r.jsx(I,{label:"Login"}),r.jsx(I,{label:"Register"})]}),e===0?r.jsx(D,{}):r.jsx(N,{})]})})};export{K as default};
