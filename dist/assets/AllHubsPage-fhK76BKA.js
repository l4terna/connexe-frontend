import{b9 as ce,ba as le,r as b,bb as de,j as s,aq as w,bc as ue,ad as fe,as as $,am as G,bd as ge,al as W,an as F,k as M,P as pe,J as xe,f as V,l as me,a as be,c as he,B as g,T as y,Y as Ce,S as ye,E as j,A as je,a6 as Se,aM as O,be as ke,v as U}from"./index-Do_hXuAA.js";import{I as ve}from"./InputAdornment-CM5DG_LQ.js";import{F as we}from"./Fab-Dif2xQHn.js";const $e=(e,r)=>e.filter(t=>r.includes(t)),k=(e,r,t)=>{const o=e.keys[0];Array.isArray(r)?r.forEach((a,n)=>{t((c,i)=>{n<=e.keys.length-1&&(n===0?Object.assign(c,i):c[e.up(e.keys[n])]=i)},a)}):r&&typeof r=="object"?(Object.keys(r).length>e.keys.length?e.keys:$e(e.keys,Object.keys(r))).forEach(n=>{if(e.keys.includes(n)){const c=r[n];c!==void 0&&t((i,f)=>{o===n?Object.assign(i,f):i[e.up(n)]=f},c)}}):(typeof r=="number"||typeof r=="string")&&t((a,n)=>{Object.assign(a,n)},r)};function v(e){return`--Grid-${e}Spacing`}function R(e){return`--Grid-parent-${e}Spacing`}const H="--Grid-columns",S="--Grid-parent-columns",Ge=({theme:e,ownerState:r})=>{const t={};return k(e.breakpoints,r.size,(o,a)=>{let n={};a==="grow"&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(n={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${S}) - (var(${S}) - ${a}) * (var(${R("column")}) / var(${S})))`}),o(t,n)}),t},Fe=({theme:e,ownerState:r})=>{const t={};return k(e.breakpoints,r.offset,(o,a)=>{let n={};a==="auto"&&(n={marginLeft:"auto"}),typeof a=="number"&&(n={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${S}) + var(${R("column")}) * ${a} / var(${S}))`}),o(t,n)}),t},Me=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={[H]:12};return k(e.breakpoints,r.columns,(o,a)=>{const n=a??12;o(t,{[H]:n,"> *":{[S]:n}})}),t},Re=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return k(e.breakpoints,r.rowSpacing,(o,a)=>{var c;const n=typeof a=="string"?a:(c=e.spacing)==null?void 0:c.call(e,a);o(t,{[v("row")]:n,"> *":{[R("row")]:n}})}),t},Ae=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return k(e.breakpoints,r.columnSpacing,(o,a)=>{var c;const n=typeof a=="string"?a:(c=e.spacing)==null?void 0:c.call(e,a);o(t,{[v("column")]:n,"> *":{[R("column")]:n}})}),t},Ne=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return k(e.breakpoints,r.direction,(o,a)=>{o(t,{flexDirection:a})}),t},ze=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${v("row")}) var(${v("column")})`}}),Be=e=>{const r=[];return Object.entries(e).forEach(([t,o])=>{o!==!1&&o!==void 0&&r.push(`grid-${t}-${String(o)}`)}),r},Pe=(e,r="xs")=>{function t(o){return o===void 0?!1:typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number"&&o>0}if(t(e))return[`spacing-${r}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const o=[];return Object.entries(e).forEach(([a,n])=>{t(n)&&o.push(`spacing-${a}-${String(n)}`)}),o}return[]},We=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([r,t])=>`direction-${r}-${t}`):[`direction-xs-${String(e)}`];function Ee(e,r){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,r.keys.forEach(t=>{e[t]!==void 0&&delete e[t]})}const Ie=ge(),Te=ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>r.root});function Oe(e){return fe({props:e,name:"MuiGrid",defaultTheme:Ie})}function Ue(e={}){const{createStyledComponent:r=Te,useThemeProps:t=Oe,useTheme:o=le,componentName:a="MuiGrid"}=e,n=(p,d)=>{const{container:h,direction:u,spacing:x,wrap:l,size:A}=p,N={root:["root",h&&"container",l!=="wrap"&&`wrap-xs-${String(l)}`,...We(u),...Be(A),...h?Pe(x,d.breakpoints.keys[0]):[]]};return $(N,z=>G(a,z),{})};function c(p,d,h=()=>!0){const u={};return p===null||(Array.isArray(p)?p.forEach((x,l)=>{x!==null&&h(x)&&d.keys[l]&&(u[d.keys[l]]=x)}):typeof p=="object"?Object.keys(p).forEach(x=>{const l=p[x];l!=null&&h(l)&&(u[x]=l)}):u[d.keys[0]]=p),u}const i=r(Me,Ae,Re,Ge,Ne,ze,Fe),f=b.forwardRef(function(d,h){const u=o(),x=t(d),l=de(x);Ee(l,u.breakpoints);const{className:A,children:N,columns:z=12,container:E=!1,component:Q="div",direction:Y="row",wrap:q="wrap",size:J={},offset:K={},spacing:B=0,rowSpacing:X=B,columnSpacing:Z=B,unstable_level:C=0,...ee}=l,re=c(J,u.breakpoints,m=>m!==!1),se=c(K,u.breakpoints),te=d.columns??(C?void 0:z),ne=d.spacing??(C?void 0:B),oe=d.rowSpacing??d.spacing??(C?void 0:X),ae=d.columnSpacing??d.spacing??(C?void 0:Z),I={...l,level:C,columns:te,container:E,direction:Y,wrap:q,spacing:ne,rowSpacing:oe,columnSpacing:ae,size:re,offset:se},ie=n(I,u);return s.jsx(i,{ref:h,as:Q,ownerState:I,className:w(ie.root,A),...ee,children:b.Children.map(N,m=>{var T;return b.isValidElement(m)&&ue(m,["Grid"])&&E&&m.props.container?b.cloneElement(m,{unstable_level:((T=m.props)==null?void 0:T.unstable_level)??C+1}):m})})});return f.muiName="Grid",f}function He(e){return G("MuiCard",e)}W("MuiCard",["root"]);const Le=e=>{const{classes:r}=e;return $({root:["root"]},He,r)},De=M(pe,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})({overflow:"hidden"}),L=b.forwardRef(function(r,t){const o=F({props:r,name:"MuiCard"}),{className:a,raised:n=!1,...c}=o,i={...o,raised:n},f=Le(i);return s.jsx(De,{className:w(f.root,a),elevation:n?8:void 0,ref:t,ownerState:i,...c})});function _e(e){return G("MuiCardActions",e)}W("MuiCardActions",["root","spacing"]);const Ve=e=>{const{classes:r,disableSpacing:t}=e;return $({root:["root",!t&&"spacing"]},_e,r)},Qe=M("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disableSpacing&&r.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),D=b.forwardRef(function(r,t){const o=F({props:r,name:"MuiCardActions"}),{disableSpacing:a=!1,className:n,...c}=o,i={...o,disableSpacing:a},f=Ve(i);return s.jsx(Qe,{className:w(f.root,n),ownerState:i,ref:t,...c})});function Ye(e){return G("MuiCardContent",e)}W("MuiCardContent",["root"]);const qe=e=>{const{classes:r}=e;return $({root:["root"]},Ye,r)},Je=M("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),_=b.forwardRef(function(r,t){const o=F({props:r,name:"MuiCardContent"}),{className:a,component:n="div",...c}=o,i={...o,component:n},f=qe(i);return s.jsx(Je,{as:n,className:w(f.root,a),ownerState:i,ref:t,...c})}),P=Ue({createStyledComponent:M("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.container&&r.container]}}),componentName:"MuiGrid",useThemeProps:e=>F({props:e,name:"MuiGrid"}),useTheme:xe}),Ke=V(s.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),Xe=V(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),sr=()=>{const e=me(),[r,t]=b.useState("");be(i=>i.user.currentUser);const{data:o=[],isLoading:a}=he({page:0,size:100,sort:"createdAt,desc"}),n=o.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())),c=({hub:i})=>s.jsxs(L,{sx:{height:"100%",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(194,24,91,0.3)",borderColor:"rgba(194,24,91,0.5)"}},children:[s.jsxs(_,{children:[s.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsx(Se,{sx:{width:56,height:56,backgroundColor:"rgba(194,24,91,0.2)",border:"2px solid rgba(194,24,91,0.5)",mr:2},children:s.jsx(y,{sx:{fontSize:24,fontWeight:700},children:i.name[0].toUpperCase()})}),s.jsxs(g,{sx:{flex:1},children:[s.jsx(y,{variant:"h6",sx:{color:"#fff",fontWeight:600},children:i.name}),s.jsx(g,{sx:{display:"flex",alignItems:"center",gap:1},children:i.type==="1"?s.jsx(O,{icon:s.jsx(Xe,{sx:{fontSize:16}}),label:"Публичный",size:"small",sx:{backgroundColor:"rgba(76,175,80,0.2)",color:"#4caf50",border:"1px solid rgba(76,175,80,0.5)"}}):s.jsx(O,{icon:s.jsx(Ke,{sx:{fontSize:16}}),label:"Приватный",size:"small",sx:{backgroundColor:"rgba(255,152,0,0.2)",color:"#ff9800",border:"1px solid rgba(255,152,0,0.5)"}})})]})]}),s.jsx(y,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)",mb:2,minHeight:40},children:i.description||"Добро пожаловать в наш хаб!"}),s.jsx(g,{sx:{display:"flex",alignItems:"center",gap:2},children:s.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(ke,{sx:{fontSize:18,mr:.5,color:"rgba(255,255,255,0.5)"}}),s.jsxs(y,{variant:"body2",sx:{color:"rgba(255,255,255,0.5)"},children:[i.member_count||0," участников"]})]})})]}),s.jsx(D,{sx:{px:2,pb:2},children:i.is_member?s.jsx(U,{variant:"contained",fullWidth:!0,onClick:()=>e(`/hub/${i.id}`),sx:{background:"linear-gradient(90deg, #FF69B4 0%, #1E90FF 100%)",color:"#fff","&:hover":{background:"linear-gradient(90deg, #FF1493 0%, #00BFFF 100%)"}},children:"Перейти"}):s.jsx(U,{variant:"outlined",fullWidth:!0,onClick:()=>e(`/hub/${i.id}`),sx:{borderColor:"rgba(194,24,91,0.5)",color:"#C2185B","&:hover":{borderColor:"#C2185B",backgroundColor:"rgba(194,24,91,0.1)"}},children:"Присоединиться"})})]});return s.jsx(g,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #0d0d1a 0%, #1a1a2e 100%)",p:4},children:s.jsxs(g,{sx:{maxWidth:1200,mx:"auto"},children:[s.jsxs(g,{sx:{mb:4},children:[s.jsx(y,{variant:"h3",sx:{color:"#fff",fontWeight:700,mb:2,background:"linear-gradient(90deg, #C2185B 0%, #1976D2 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Все хабы"}),s.jsx(y,{variant:"h6",sx:{color:"rgba(255,255,255,0.7)"},children:"Найдите сообщество по интересам или создайте свое"})]}),s.jsx(g,{sx:{mb:4},children:s.jsx(Ce,{fullWidth:!0,placeholder:"Поиск хабов...",value:r,onChange:i=>t(i.target.value),InputProps:{startAdornment:s.jsx(ve,{position:"start",children:s.jsx(ye,{sx:{color:"rgba(255,255,255,0.5)"}})}),sx:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:2,color:"#fff","& fieldset":{border:"none"},"&:hover":{background:"rgba(255,255,255,0.08)"},"&.Mui-focused":{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(194,24,91,0.5)"}}}})}),s.jsx(P,{container:!0,spacing:3,children:a?[1,2,3,4,5,6].map(i=>s.jsx(P,{item:!0,xs:12,sm:6,md:4,children:s.jsxs(L,{sx:{height:250,background:"rgba(255,255,255,0.03)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs(_,{children:[s.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsx(j,{variant:"circular",width:56,height:56,sx:{mr:2}}),s.jsxs(g,{sx:{flex:1},children:[s.jsx(j,{variant:"text",width:"80%",height:28}),s.jsx(j,{variant:"text",width:"40%",height:20})]})]}),s.jsx(j,{variant:"text",width:"100%",height:20}),s.jsx(j,{variant:"text",width:"90%",height:20})]}),s.jsx(D,{sx:{px:2,pb:2},children:s.jsx(j,{variant:"rectangular",width:"100%",height:36,sx:{borderRadius:1}})})]})},i)):n.map(i=>s.jsx(P,{item:!0,xs:12,sm:6,md:4,children:s.jsx(c,{hub:i})},i.id))}),s.jsx(we,{color:"primary",onClick:()=>e("/hubs/new"),sx:{position:"fixed",bottom:24,right:24,background:"linear-gradient(90deg, #FF69B4 0%, #1E90FF 100%)",color:"#fff","&:hover":{background:"linear-gradient(90deg, #FF1493 0%, #00BFFF 100%)"}},children:s.jsx(je,{})})]})})};export{sr as default};
